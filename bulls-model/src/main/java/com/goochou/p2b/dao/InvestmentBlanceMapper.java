package com.goochou.p2b.dao;

import java.util.List;
import java.util.Map;

import org.apache.ibatis.annotations.Param;

import com.goochou.p2b.model.InvestmentBlance;
import com.goochou.p2b.model.InvestmentBlanceExample;

public interface InvestmentBlanceMapper {
	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int countByExample(InvestmentBlanceExample example);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int deleteByExample(InvestmentBlanceExample example);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int deleteByPrimaryKey(Integer id);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int insert(InvestmentBlance record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int insertSelective(InvestmentBlance record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	List<InvestmentBlance> selectByExample(InvestmentBlanceExample example);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	InvestmentBlance selectByPrimaryKey(Integer id);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int updateByExampleSelective(@Param("record") InvestmentBlance record,
			@Param("example") InvestmentBlanceExample example);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int updateByExample(@Param("record") InvestmentBlance record, @Param("example") InvestmentBlanceExample example);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int updateByPrimaryKeySelective(InvestmentBlance record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to
	 * the database table investment_blance
	 *
	 * @mbggenerated Fri May 10 15:55:06 CST 2019
	 */
	int updateByPrimaryKey(InvestmentBlance record);

	/*
	 *****************************************************************************************
	 * 以下是手动加入的代码
	 *****************************************************************************************
	 */

	/**
	 * 查找用户的投资授信订单中还有可用的授信资金的订单 优先用最后赎回的订单的授信资金
	 * 
	 * @param userId 用户编号
	 * @return
	 */
	List<InvestmentBlance> selectAvailableCreditBalanceInvestList(Integer userId);

	/**
	 * selectByPrimaryKey 的 for update 版
	 * 
	 * @param id
	 * @return
	 */
	InvestmentBlance selectByPrimaryKeyForUpdate(Integer id);

	/**
	 * 根据用户id 返回总共预支回报金额 ，可用授信金额
	 * 
	 * @Title: countInvestmentBlance
	 * @param userId
	 * @return BigDecimal
	 * @author zj
	 * @date 2019-06-17 16:15
	 */
	Map<String, Object> countInvestmentBlance(@Param("userId")Integer userId,@Param("state")Integer state);

	/**
	 * 获取用户未到期的授信金额和可用授信金额
	 * 
	 * @Title: listInvestmentBlance
	 * @param userId
	 * @return Map<String,Object>
	 * @author zj
	 * @date 2019-06-17 17:29
	 */
	List<Map<String, Object>> listInvestmentBlanceByPage(@Param("userId")Integer userId,@Param("limitStart")Integer limitStart,@Param("limitEnd")Integer limitEnd,@Param("state")Integer state);
	/**
	 * 统计数量
	* @Title: countListInvestmentBlance 
	* @param userId
	* @return int
	* @author zj
	* @date 2019-06-18 11:38
	 */
	int countListInvestmentBlance(@Param("userId")Integer userId,@Param("state")Integer state);
}