package com.goochou.p2b.dao;

import com.goochou.p2b.model.RateCoupon;
import com.goochou.p2b.model.RateCouponExample;
import java.util.List;
import java.util.Map;

import org.apache.ibatis.annotations.Param;

public interface RateCouponMapper {
    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int countByExample(RateCouponExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int deleteByExample(RateCouponExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int deleteByPrimaryKey(Integer id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int insert(RateCoupon record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int insertSelective(RateCoupon record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    List<RateCoupon> selectByExample(RateCouponExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    RateCoupon selectByPrimaryKey(Integer id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int updateByExampleSelective(@Param("record") RateCoupon record, @Param("example") RateCouponExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int updateByExample(@Param("record") RateCoupon record, @Param("example") RateCouponExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int updateByPrimaryKeySelective(RateCoupon record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table rate_coupon
     *
     * @mbggenerated Fri May 10 10:59:11 CST 2019
     */
    int updateByPrimaryKey(RateCoupon record);


    RateCoupon getNoUseMonthRateCoupon(Integer id);

    /**
     * 查询用户当月获取的全民理财师奖励的加息券
     *
     * @param userId
     * @return
     */
    RateCoupon getMonthSend(@Param("userId") Integer userId, @Param("source") Integer source);

    List<RateCoupon> rateCouponUsingList(@Param("id") Integer id, @Param("start") Integer start, @Param("end") Integer end);

    List<Long> countUsingRateCoupon(Integer id);

    public List<Map<String, Object>> query(Map<String, Object> map);

    public Integer queryCount(Map<String, Object> map);

    public Integer querySum(Map<String, Object> map);

    int getDailyCountBySource(@Param("userId") Integer userId, @Param("source") Integer source);

    /**
     * 时间任务方法，为当天生日用户，发放0.5%日加息券，1个月过期
     *
     * @author 刘源 2015-11-9
     */
    public void addBirthdayRateCoupon();

    /**
     * 检测是否需要发放生日加息券
     *
     * @return
     * @author 刘源
     * @date 2015年12月1日
     */
    public Integer checkBirthdayRateCoupons();

    /**
     * 查询当天生日的用户
     *
     * @return
     */
    public List<Map<String, Object>> queryDayBirthdayUser();


    List<RateCoupon> rateCouponUsingAndNoUse(@Param("id") Integer id, @Param("start") Integer start, @Param("end") Integer end);

    Integer countrateCouponUsingAndNoUse(@Param("id") Integer id);

    /**
     * @Description: 5.2.0  版本加息券列表
     * @date 2017/3/25
     * @author 王信
     */
    List<RateCoupon> rateCouponNewList(Map<String, Object> map);

    Integer rateCouponNewCount(@Param("userId") Integer userId);

    int insertAndDays(RateCoupon record);

    /**
     * @Description:
     * @date 2017/3/30
     * @author 王信
     */
    List<RateCoupon> selectCouponInterestTaskList();

    /**
     * @Description:
     * @date 2017/3/31
     * @author 王信
     */
    List<RateCoupon> selectUseRateCouponList(@Param("projectId") Integer projectId);

    void insertBatch(List<RateCoupon> list);

    List<RateCoupon> selectBestRateCoupon(Map<String, Object> params);

    /**
     * 即将到期的加息券
     * @param map
     * @return
     */
    List<Map<String,Object>> queryExpireRateCouponAfterSomeDay(Map<String,Object> map);
}
